{% extends 'base/main.html' %}
{% load static %}
{% block title %}{{ topic }}{% endblock %}
{% block extra-head %}
<link rel="stylesheet" href="{% static 'base/css/checkbox.css' %}">
<link rel="stylesheet" href="{% static 'mining/css/mining.css' %}">
<script src='https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js' type='text/javascript'></script>
<script src="{% static 'base/js/ajax.js' %}"></script>
<script src="{% static 'mining/js/mining_canvas.js' %}"></script>
<script src="{% static 'mining/js/mining_char.js' %}"></script>
<!--<script src="{% static 'mining/js/mining.js' %}"></script>-->
{% endblock %}
{% block absolute %}{% include 'base/header.html' with topic=topic %}{% endblock %}

{% block body %}
{% for material in materials %}
<div hidden class="" data-id="{{ material.id }}" data-src="{{ material.icon.url }}"></div>
{% endfor %}

{{ spawn_point|json_script:"spawn-point" }}
{{ field_width|json_script:"width" }}
{{ field_height|json_script:"height" }}
{{ bg_color|json_script:"bg-color" }}

{{ materials|json_script:"materials" }}
{{ layers|json_script:"layers" }}

<div class="field">
	<canvas class="field-container field-container--{{ char_layer_index }} field-container--char"></canvas>

	<!-- actual layers -->
	{% for layer in layers %}
		<canvas class="field-container field-container--{{ layer.index }}"></canvas>
	{% endfor %}
</div>

<!-- <aside class="detail-mine">
	<button id="mining-window">
		<b>Click to Mine!</b>
	</button>
</aside>
<aside>
	<b>Material:</b>
	<span id="current-material">-</span>
	
	<b>Rigidity:</b>
	<span id="current-rigidity">-</span>
</aside>
<aside id="amount-mined"></aside> -->
{% endblock %}
