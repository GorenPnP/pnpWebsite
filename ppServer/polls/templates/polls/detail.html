{% extends "base/main.html" %}
{% load static %}
{% block title %}Abstimmung{% endblock %}
{% block extra-head %}
<link rel="stylesheet" href="{% static 'base/css/checkbox.css' %}">
<link rel="stylesheet" href="{% static 'polls/css/detail.css' %}">
<script src="{% static 'res/js/axios.min.js' %}" type='text/javascript'></script>
<script src="{% static 'base/js/ajax.js' %}"></script>
<script type="text/javascript" src="{% static 'polls/js/detail.js' %}"></script>
{% endblock %}
{% block absolute %}{% include 'base/header.html' with topic="Abstimmung" %}{% endblock %}

{% block body %}
<div>
    <h1>{{ question.text }}</h1>
    
    <p><b id="votes">{{ question.anz_stimmen }}</b> Stimme<span id="plural" {% if question.anz_stimmen == 1 %}style="display:none"{% endif %}>n</span></p>
    
    <div class="list">
        {% with ''|center:question.anz_stimmen as range %}
        {% for choice in question.choice_set.all %}
            <div class="row">
                {% if question.allow_multiple_selection %}
                    {% for _ in range %}<div class="checkbox" id="{{ choice.id }}" onclick="toggle(this)"></div>{% endfor %}
                {% else %}
                    <div class="checkbox" id="{{ choice.id }}" onclick="toggle(this)"></div>
                {% endif %}
                <label for="{{ choice.id }}" onclick="toggle(currentTarget=document.getElementById({{choice.id}}))">{{ choice.text }}</label>
            </div>
        {% endfor %}
        {% endwith %}
    </div>

    <button class="btn" disabled id="submit">OK</button>
</div>
{% endblock %}
