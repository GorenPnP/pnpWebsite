{% extends 'base/headed_main.html' %}
{% load static %}
{% block extra-head %}
<link rel="stylesheet" href="{% static 'base/css/checkbox.css' %}">

<style>
    .main-container a { color: var(--bs-light) !important; }

    .checked--sufficient { --checkbox-mark-color: #888888; }
</style>
{% endblock %}

{% block main %}
{% if char.name %}<h2 class="text-center">{{ char.name }}</h2>{% endif %}

<div class="container-fluid" style="max-width: 600px; margin: 3em auto 0">
    <table id="hub-table" class="table table-dark table-striped table-hover">
        <thead>
            <tr>
                <th>Erledigt?</th>
                <th>Links</th>
                <th>Werte</th>
            </tr>
        </thead>
        
        <tbody>
            <!-- rows -->
            {% for row in rows %}
            <tr>
                <td>
                    <a href="{{ row.link }}">
                        <div class="checkbox {% if row.done %}checked{% endif %}{% if forloop.last %} checked--sufficient{% endif %}"></div>
                    </a>
                </td>
                <td><a href="{{ row.link }}">{{ row.text|safe }}</a></td>
                <td>{% autoescape off %}{{ row.werte }}{% endautoescape %}</td>
            </tr>
            {% endfor %}

            <!-- Vor- und Nachteile -->
            <tr>
                <td>
                    <div class="checkbox {% if is_teil_done %}checked{% endif %} checked--sufficient"></div>
                </td>
                <td><a href="{{ row.link }}">
                    <b><a href="{% url 'create:vorteil' %}">Vorteile</a> und <a href="{% url 'create:nachteil' %}">Nachteile</a></b> nehmen
                </a></td>
                <td>{{ char.ip }} IP</td>
            </tr>

            <!-- skilltree -->
            <tr>
                <td>
                    <div class="checkbox checked checked--sufficient"></div>
                </td>
                <td><a href="{% url 'create:skilltree' %}">Skilltree</a></td>
                <td>{{ char.sp }} SP</td>
            </tr>

            <!-- talent -->
            <tr>
                <td>
                    <div class="checkbox checked checked--sufficient"></div>
                </td>
                <td><a href="{% url 'create:talent' %}">Talente</a></td>
                <td>{{ char.tp }} TP</td>
            </tr>

            <!-- affektivität -->
            <tr>
                <td>
                    <div class="checkbox checked checked--sufficient"></div>
                </td>
                <td><a href="{% url 'create:affektivität' %}">Affektivität</a></td>
                <td></td>
            </tr>

            <!-- le schöp -->
            <tr>
                <td>
                    <div class="checkbox checked checked--sufficient"></div>
                </td>
                <td><a href="{% url 'shop:index' %}" target="_blank"><b>Ausrüstung</b> einkaufen</a></td>
                <td>{{ char.geld }} Drachmen</td>
            </tr>
        </tbody>
    </table>

    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-lg btn-primary" {% if not done %}disabled{% endif %}>Weiter</button>
    </form>
</div>


{% if infos %}
<aside class="mt-3">
    <p class="h4">Nützliches:</p>
    <ul>
        {% for i in infos %}
        <li>{% autoescape off %}{{ i }}{% endautoescape %}</li>
        {% endfor %}
    </ul>
</aside>
{% endif %}

{% endblock %}
